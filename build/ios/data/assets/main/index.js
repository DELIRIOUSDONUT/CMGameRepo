System.register("chunks:///_virtual/BGScaler.ts",["cc"],(function(e){var t,i,o,s;return{setters:[function(e){t=e.cclegacy,i=e.Component,o=e.view,s=e._decorator}],execute:function(){var c;t._RF.push({},"53a9djbdt9MQ5bWxEJvRQsJ","BGScaler",void 0);const{ccclass:n,property:h}=s;e("BGScaler",n("BGScaler")(c=class extends i{onLoad(){const e=this.node.getComponent("cc.Sprite"),t=this.node.getComponent("cc.UITransform"),i=o.getVisibleSize(),s=e.spriteFrame.originalSize;console.log("screenSize width is ",i.width),console.log("screenSize height is ",i.height),console.log("spriteSize width is ",s.width),console.log("spriteSize height is ",s.height);const c=Math.max(s.width/i.width,s.height/i.height),n=Math.max(i.width,i.height);t.setContentSize(n,n),this.node.setScale(c,c,1)}})||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/CardController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScreenSwitchRequestEvent.ts"],(function(e){var t,i,a,r,o,s,n,c,l,h,d,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){a=e.cclegacy,r=e.Prefab,o=e.CCInteger,s=e.AudioSource,n=e.CCFloat,c=e._decorator,l=e.Component,h=e.instantiate,d=e.Layout},function(e){u=e.ScreenSwitchEventRequest}],execute:function(){var S,C,p,m,v,g,f,y,b,N,I,A,D,w,R,M,F;a._RF.push({},"f1c9ceDbnpJlYYKLIBiBmbq","CardController",void 0);const{ccclass:q,property:E}=c;e("CardController",(S=q("CardController"),C=E({type:r,tooltip:"Drag card prefab here"}),p=E({type:o,tooltip:"Number of cards"}),m=E({type:o,tooltip:"Delay time for card flip"}),v=E({type:s,tooltip:"Audio source when cards match"}),g=E({type:s,tooltip:"Audio source when cards mismatch"}),f=E({type:s,tooltip:"Audio source when game is over"}),y=E({type:n,tooltip:"Delay time for victory jingle and screen"}),S((I=t((N=class extends l{constructor(...e){super(...e),i(this,"CardPrefab",I,this),i(this,"NumCards",A,this),i(this,"FlipDelay",D,this),i(this,"MatchAudioSource",w,this),i(this,"MismatchAudioSource",R,this),i(this,"GameOverAudioSource",M,this),i(this,"VictoryDelay",F,this),this.ScoreEval=void 0,this.CardSelectedQueue=void 0,this.NumSelectedCards=void 0,this.ScoreCounter=void 0,this.ColumnReq=void 0,this.childCardHeight=void 0,this.childCardWidth=void 0,this.SpriteHandler=void 0,this.SaveState={score:0,combo:0,cards:[],faceUpIndex:-1,removedCards:[],columnReq:0,numCards:0,turn:0,matchCount:0}}start(){if(this.getCardSize(),this.ScoreEval=this.node.getComponent("ScoreEvaluator"),this.ScoreCounter=this.node.getComponent("ScoreCounter"),this.SpriteHandler=this.node.getComponent("SpriteHandler"),this.loadIfAvailable())return void this.setupCardMatchListener();this.SaveState={score:0,combo:0,cards:[],faceUpIndex:-1,removedCards:[],columnReq:0,numCards:0,turn:0,matchCount:0},this.NumCards%2!=0&&(this.NumCards-=1),this.SaveState.columnReq=this.ColumnReq,this.SaveState.numCards=this.NumCards;let e=this.getCardTypes();for(let t=0;t<this.NumCards;t++){const i=h(this.CardPrefab);let a=i.getComponent("cc.UITransform");a.width=this.childCardWidth,a.height=this.childCardHeight,this.node.addChild(i);let r=i.getComponent("CardScript");r.init(!1,e[t],t),i.getComponent("cc.Widget").target=this.node,this.SpriteHandler.setSprites(r),this.SaveState.cards.push(e[t]),this.SaveState.removedCards.push(0)}this.setupCardMatchListener()}setupCardMatchListener(){if(this.CardSelectedQueue=new Array,this.NumSelectedCards=-1==this.SaveState.faceUpIndex?0:1,1==this.NumSelectedCards)for(let e=0;e<this.NumCards;e++)if(this.SaveState.faceUpIndex==e){let t=this.node.children[e].getComponent("CardScript");this.CardSelectedQueue.push(t),t.setFlipStatus(!0);break}this.node.on("card-selected",(e=>{let t=e.card;if(e.propagationStopped=!0,console.log("SELECTED CARD ID: ",t.CardID," CARD TYPE: ",t.CardType),!t.FlippedUp){if(this.CardSelectedQueue.push(t),this.NumSelectedCards++,1==this.NumSelectedCards){t.setFlipStatus(!0),this.SaveState.faceUpIndex=t.CardID,t.getComponent("cc.Button").interactable=!1}else if(this.NumSelectedCards>1){this.SaveState.faceUpIndex=-1,t.setFlipStatus(!0);let e=this.ScoreEval.getScore(this.CardSelectedQueue[0].CardType,t.CardType);if(console.log("Score: ",e),this.ScoreCounter.trackScore(e),this.SaveState.score=this.ScoreCounter.Score,this.SaveState.combo=this.ScoreCounter.ComboStreak,e<=0){this.MismatchAudioSource.playOneShot(this.MismatchAudioSource.clip);let e=this.CardSelectedQueue[0];this.scheduleOnce((()=>{e.setFlipStatus(!1),t.setFlipStatus(!1)}),this.FlipDelay),this.CardSelectedQueue[0].getComponent("cc.Button").interactable=!0,t.getComponent("cc.Button").interactable=!0,this.SaveState.combo=0}else{this.MatchAudioSource.playOneShot(this.MatchAudioSource.clip);let e=this.CardSelectedQueue[0];this.scheduleOnce((()=>{e.disable(),t.disable(),this.SaveState.turn+=1}),this.FlipDelay),this.SaveState.removedCards[this.CardSelectedQueue[0].CardID]=1,this.SaveState.removedCards[t.CardID]=1}this.NumSelectedCards-=2,this.CardSelectedQueue.shift(),this.CardSelectedQueue.shift(),this.SaveState.turn=this.ScoreCounter.Turn,this.SaveState.matchCount=this.ScoreCounter.MatchCount}else console.log("ERROR: Num selected cards: ",this.NumSelectedCards);this.SaveState.removedCards.every((e=>1==e))?(this.scheduleOnce((()=>{this.GameOverAudioSource.playOneShot(this.GameOverAudioSource.clip),this.node.dispatchEvent(new u("victory"))}),this.VictoryDelay),localStorage.removeItem("saveState")):localStorage.setItem("saveState",JSON.stringify(this.SaveState))}}))}getCardTypes(){let e=Array.from(this.ScoreEval.scoreHashMap.keys());e=O(e),console.log(e);let t=this.NumCards/2,i=new Array;console.log(i);for(let a=0;a<t;a++)i.push(e[a]),i.push(e[a]),console.log(i);return i=O(i),i}getCardSize(){let e=this.node.getComponent("cc.Layout"),t=this.node.getComponent("cc.UITransform"),i=t.contentSize.width,a=t.contentSize.height;if(e.constraint==d.Constraint.FIXED_COL){let t=e.constraintNum;if(this.ColumnReq=t,this.NumCards>=t){console.log("Parent width ",i,", parent height ",a),this.childCardWidth=(i-(t-1)*e.spacingX)/t;let r=Math.ceil(this.NumCards/t);console.log("Num rows is ",r),this.childCardHeight=(a-(r-1)*e.spacingY)/r}}}loadIfAvailable(){if(localStorage.getItem("saveState")){if(this.SaveState=JSON.parse(localStorage.getItem("saveState")),this.SaveState.columnReq!=this.ColumnReq)return console.log("Column req not met",this.SaveState.columnReq,this.ColumnReq),!1;if(this.SaveState.cards.length!=this.NumCards)return console.log("Num cards not met",this.SaveState.cards.length,this.NumCards),!1;console.log("Parse success"),console.log(this.SaveState.cards),this.NumCards=this.SaveState.cards.length,this.ScoreCounter.Score=this.SaveState.score,this.ScoreCounter.ComboStreak=this.SaveState.combo,this.ScoreCounter.Turn=this.SaveState.turn,this.ScoreCounter.MatchCount=this.SaveState.matchCount,this.ScoreCounter.sendUpdate();for(let e=0;e<this.SaveState.numCards;e++){const t=h(this.CardPrefab);let i=t.getComponent("cc.UITransform");i.width=this.childCardWidth,i.height=this.childCardHeight,this.node.addChild(t);let a=this.node.children[e].getComponent("CardScript");a.init(!1,this.SaveState.cards[e],e),this.SpriteHandler.setSprites(a),this.SaveState.faceUpIndex==e&&a.setFlipStatus(!0),1==this.SaveState.removedCards[e]&&a.disable()}return!0}return!1}}).prototype,"CardPrefab",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(N.prototype,"NumCards",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(N.prototype,"FlipDelay",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(N.prototype,"MatchAudioSource",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(N.prototype,"MismatchAudioSource",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(N.prototype,"GameOverAudioSource",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(N.prototype,"VictoryDelay",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=N))||b));function O(e){let t,i=e.length;for(;0!==i;)t=Math.floor(Math.random()*i),i--,[e[i],e[t]]=[e[t],e[i]];return e}a._RF.pop()}}}));

System.register("chunks:///_virtual/CardScript.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardSelectEvent.ts"],(function(t){var e,i,r,s,p,o,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy,s=t.CCBoolean,p=t._decorator,o=t.Component},function(t){a=t.CardSelectEvent}],execute:function(){var n,d,c,h,l;r._RF.push({},"72078SBVGJLKrHmFYvn9xxm","CardScript",void 0);const{ccclass:S,property:C}=p;t("CardScript",(n=S("CardScript"),d=C({type:s,tooltip:"Show card type for testing?"}),n((l=e((h=class extends o{constructor(...t){super(...t),i(this,"ShowCardType",l,this),this.FlippedUp=void 0,this.CardType=void 0,this.CardID=void 0,this.CardSprite=void 0,this.BackSprite=void 0,this.SpriteFrame=void 0,this.AudioSource=void 0}start(){}update(t){}setCardType(t){if(this.CardType=t,console.log("Card type set to: ",this.CardType),this.ShowCardType){this.node.getComponentInChildren("cc.Label").string=this.CardType}}setFlipStatus(t){this.FlippedUp=t,console.log("ID: ",this.CardID,"Card flipped up: ",this.FlippedUp),null!=this.CardSprite&&null!=this.BackSprite&&(this.FlippedUp?(this.AudioSource.playOneShot(this.AudioSource.clip),this.SpriteFrame.spriteFrame=this.CardSprite):this.SpriteFrame.spriteFrame=this.BackSprite)}init(t,e,i){console.log("---INIT---"),this.CardID=i,this.setCardType(e),this.setFlipStatus(t),this.CardSprite=null,this.BackSprite=null,this.SpriteFrame=this.node.getComponent("cc.Sprite"),this.AudioSource=this.node.getComponent("cc.AudioSource"),console.log("---END CARD INIT---")}setSprite(t,e){this.CardSprite=t,this.BackSprite=e,this.FlippedUp?this.SpriteFrame.spriteFrame=this.CardSprite:this.SpriteFrame.spriteFrame=this.BackSprite,console.log(t,e)}onCardSelected(){this.node.dispatchEvent(new a(this))}disable(){this.node.getComponent("cc.Sprite").enabled=!1,this.node.getComponent("cc.Button").enabled=!1}}).prototype,"ShowCardType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),c=h))||c));r._RF.pop()}}}));

System.register("chunks:///_virtual/CardSelectEvent.ts",["cc"],(function(e){var t,c;return{setters:[function(e){t=e.cclegacy,c=e.Event}],execute:function(){t._RF.push({},"b17bfOdSiFAt7+lXwqtf6de","CardSelectEvent",void 0);e("CardSelectEvent",class extends c{constructor(e){super("card-selected",!0),this.card=void 0,this.card=e}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,h,g,a,c,p,C,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){i=t.cclegacy,n=t.Node,s=t._decorator,l=t.Component,r=t.Color,h=t.Canvas,g=t.UITransform,a=t.instantiate,c=t.Label,p=t.RichText,C=t.Toggle,d=t.Button,m=t.director}],execute:function(){var u,L,M,b,T,f,x,S,E;i._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);const{ccclass:v,property:I}=s;t("DebugViewRuntimeControl",(u=v("internal.DebugViewRuntimeControl"),L=I(n),M=I(n),b=I(n),u((x=e((f=class extends l{constructor(...t){super(...t),o(this,"compositeModeToggle",x,this),o(this,"singleModeToggle",S,this),o(this,"EnableAllCompositeModeButton",E,this),this._single=0,this.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],this.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],this.strMisc=["CSM Layer Coloration","Lighting With Albedo"],this.compositeModeToggleList=[],this.singleModeToggleList=[],this.miscModeToggleList=[],this.textComponentList=[],this.labelComponentList=[],this.textContentList=[],this.hideButtonLabel=void 0,this._currentColorIndex=0,this.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],this.color=[r.WHITE,r.BLACK,r.RED,r.GREEN,r.BLUE]}start(){if(!this.node.parent.getComponent(h))return void console.error("debug-view-runtime-control should be child of Canvas");const t=this.node.parent.getComponent(g),e=.5*t.width,o=.5*t.height;let i=.1*e-e,n=o-.1*o;const s=this.node.getChildByName("MiscMode"),l=a(s);l.parent=this.node,l.name="Buttons";const m=a(s);m.parent=this.node,m.name="Titles";for(let t=0;t<2;t++){const e=a(this.EnableAllCompositeModeButton.getChildByName("Label"));e.setPosition(i+(t>0?450:150),n,0),e.setScale(.75,.75,.75),e.parent=m;const o=e.getComponent(c);o.string=t?"----------Composite Mode----------":"----------Single Mode----------",o.color=r.WHITE,o.overflow=0,this.labelComponentList[this.labelComponentList.length]=o}n-=20;let u=0;for(let t=0;t<this.strSingle.length;t++,u++){t===this.strSingle.length>>1&&(i+=200,u=0);const e=t?a(this.singleModeToggle):this.singleModeToggle;e.setPosition(i,n-20*u,0),e.setScale(.5,.5,.5),e.parent=this.singleModeToggle.parent;const o=e.getComponentInChildren(p);o.string=this.strSingle[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string,e.on(C.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[t]=e}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(d.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;let L=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=L;const M=a(this.EnableAllCompositeModeButton);M.setPosition(i+90,n,0),M.setScale(.5,.5,.5),M.on(d.EventType.CLICK,this.changeTextColor,this),M.parent=l,L=M.getComponentInChildren(c),L.string="TextColor",this.labelComponentList[this.labelComponentList.length]=L;const b=a(this.EnableAllCompositeModeButton);b.setPosition(i+200,n,0),b.setScale(.5,.5,.5),b.on(d.EventType.CLICK,this.hideUI,this),b.parent=this.node.parent,L=b.getComponentInChildren(c),L.string="Hide UI",this.labelComponentList[this.labelComponentList.length]=L,this.hideButtonLabel=L,n-=40;for(let t=0;t<this.strMisc.length;t++){const e=a(this.compositeModeToggle);e.setPosition(i,n-20*t,0),e.setScale(.5,.5,.5),e.parent=s;const o=e.getComponentInChildren(p);o.string=this.strMisc[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string;e.getComponent(C).isChecked=!!t,e.on(C.EventType.TOGGLE,t?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[t]=e}n-=150;for(let t=0;t<this.strComposite.length;t++){const e=t?a(this.compositeModeToggle):this.compositeModeToggle;e.setPosition(i,n-20*t,0),e.setScale(.5,.5,.5),e.parent=this.compositeModeToggle.parent;const o=e.getComponentInChildren(p);o.string=this.strComposite[t],this.textComponentList[this.textComponentList.length]=o,this.textContentList[this.textContentList.length]=o.string,e.on(C.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[t]=e}}isTextMatched(t,e){let o=new String(t);const i=o.search(">");return-1===i?t===e:(o=o.substr(i+1),o=o.substr(0,o.search("<")),o===e)}toggleSingleMode(t){const e=m.root.debugView,o=t.getComponentInChildren(p);for(let t=0;t<this.strSingle.length;t++)this.isTextMatched(o.string,this.strSingle[t])&&(e.singleMode=t)}toggleCompositeMode(t){const e=m.root.debugView,o=t.getComponentInChildren(p);for(let i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)}toggleLightingWithAlbedo(t){m.root.debugView.lightingWithAlbedo=t.isChecked}toggleCSMColoration(t){m.root.debugView.csmLayerColoration=t.isChecked}enableAllCompositeMode(t){const e=m.root.debugView;e.enableAllCompositeMode(!0);for(let t=0;t<this.compositeModeToggleList.length;t++){this.compositeModeToggleList[t].getComponent(C).isChecked=!0}let o=this.miscModeToggleList[0].getComponent(C);o.isChecked=!1,e.csmLayerColoration=!1,o=this.miscModeToggleList[1].getComponent(C),o.isChecked=!0,e.lightingWithAlbedo=!0}hideUI(t){const e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"}changeTextColor(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(let t=0;t<this.textComponentList.length;t++)this.textComponentList[t].string=this.strColor[this._currentColorIndex]+this.textContentList[t]+"</color>";for(let t=0;t<this.labelComponentList.length;t++)this.labelComponentList[t].color=this.color[this._currentColorIndex]}onLoad(){}update(t){}}).prototype,"compositeModeToggle",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(f.prototype,"singleModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(f.prototype,"EnableAllCompositeModeButton",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=f))||T));i._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./BGScaler.ts","./CardController.ts","./CardScript.ts","./CardSelectEvent.ts","./SceneSwitcher.ts","./ScoreCounter.ts","./ScoreEvaluator.ts","./ScoreUpdateEvent.ts","./ScoreUpdater.ts","./ScreenSwitchRequestEvent.ts","./SpriteHandler.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SceneSwitcher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,c,r,o,i,n;return{setters:[function(e){t=e.applyDecoratedDescriptor,c=e.initializerDefineProperty},function(e){r=e.cclegacy,o=e.Node,i=e._decorator,n=e.Component}],execute:function(){var s,a,p,l,u;r._RF.push({},"582dd93jSZAp4YjBdcEyLFv","SceneSwitcher",void 0);const{ccclass:d,property:y}=i;e("SceneSwitcher",(s=d("SceneSwitcher"),a=y({type:o,tooltip:"Victory screen node"}),s((u=t((l=class extends n{constructor(...e){super(...e),c(this,"VictoryScreenNode",u,this)}start(){this.VictoryScreenNode.active=!1,this.node.on("victory",(e=>{this.VictoryScreenNode.active=!0}))}update(e){}}).prototype,"VictoryScreenNode",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=l))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreCounter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ScoreUpdateEvent.ts"],(function(t){var e,o,r,i,s,n,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){r=t.cclegacy,i=t.CCInteger,s=t._decorator,n=t.Component},function(t){c=t.ScoreUpdateEvent}],execute:function(){var a,h,u,l,p,m,b;r._RF.push({},"5f684IhVk1M5I0ZuxlQZfJx","ScoreCounter",void 0);const{ccclass:C,property:S}=s;t("ScoreCounter",(a=C("ScoreCounter"),h=S({type:i,tooltip:"How much the combo score increases per combo streak"}),u=S({type:i,tooltip:"How much the player is allowed to not match while maintaining the combo"}),a((m=e((p=class extends n{constructor(...t){super(...t),o(this,"ScoreComboGrowth",m,this),o(this,"ComboStreakTolerance",b,this),this.ComboStreak=0,this.Score=0,this.ComboMisses=0,this.Turn=0,this.MatchCount=0}trackScore(t){t<=0?(this.ComboMisses+=1,this.ComboMisses>this.ComboStreakTolerance&&(this.ComboStreak=0,this.ComboMisses=0)):(this.ComboMisses=0,this.ComboStreak+=1,this.Score+=t+this.ScoreComboGrowth*(this.ComboStreak-1),this.MatchCount+=1),this.Turn+=1,this.sendUpdate()}sendUpdate(){this.node.dispatchEvent(new c(this.Score,this.ComboStreak,this.MatchCount,this.Turn))}}).prototype,"ScoreComboGrowth",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),b=e(p.prototype,"ComboStreakTolerance",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),l=p))||l));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreEvaluator.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,a,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){o=e.cclegacy,a=e.CCInteger,c=e._decorator,s=e.Component}],execute:function(){var l,n,i,u,p;o._RF.push({},"b4d57lDSpxNlbxmL2IlHMSd","ScoreEvaluator",void 0);const{ccclass:h,property:f}=c;e("ScoreEvaluator",(l=h("ScoreEvaluator"),n=f({type:a,tooltip:"Default score for each card type"}),l((p=t((u=class extends s{constructor(...e){super(...e),this.scoreHashMap=void 0,r(this,"defaultScore",p,this)}onLoad(){this.scoreHashMap=new Map;let e=new Array;e=["2","3","4","5","6","7","8","9","T","J","Q","K","A"];let t=new Array;t=["S","H","D","C"];for(let r=0;r<e.length;r++)for(let o=0;o<t.length;o++)this.scoreHashMap.set(e[r]+t[o],this.defaultScore)}getScore(e,t){if(e===t){let t=this.scoreHashMap.get(e);return void 0===t?0:t}return 0}}).prototype,"defaultScore",[n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),i=u))||i));o._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreUpdateEvent.ts",["cc"],(function(t){var e,o;return{setters:[function(t){e=t.cclegacy,o=t.Event}],execute:function(){e._RF.push({},"3a125iXywdMooyUU3Vy/WaO","ScoreUpdateEvent",void 0);t("ScoreUpdateEvent",class extends o{constructor(t,e,o,c){super("score-update",!0),this.score=void 0,this.combo=void 0,this.turn=void 0,this.matchCount=void 0,this.score=t,this.combo=e,this.turn=c,this.matchCount=o}}),e._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreUpdater.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,r,i,c,n;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.initializerDefineProperty},function(t){r=t.cclegacy,i=t.Node,c=t._decorator,n=t.Component}],execute:function(){var s,h,a,p,u,T,l,x,d,b,g;r._RF.push({},"7c8afXFFrNPnKAjo53WONcq","ScoreUpdater",void 0);const{ccclass:m,property:S}=c;t("ScoreUpdater",(s=m("ScoreUpdater"),h=S({type:i,tooltip:"Drag node with score text here"}),a=S({type:i,tooltip:"Drag node with combo text here"}),p=S({type:i,tooltip:"Drag node with match text here"}),u=S({type:i,tooltip:"Drag node with turn text here"}),s((x=e((l=class extends n{constructor(...t){super(...t),o(this,"ScoreTextNode",x,this),o(this,"ComboTextNode",d,this),o(this,"MatchTextNode",b,this),o(this,"TurnTextNode",g,this),this.ScoreText=void 0,this.ComboText=void 0,this.MatchText=void 0,this.TurnText=void 0}start(){this.node.on("score-update",this.updateScore,this),this.ScoreText=this.ScoreTextNode.getComponent("cc.RichText"),this.ComboText=this.ComboTextNode.getComponent("cc.RichText"),this.MatchText=this.MatchTextNode.getComponent("cc.RichText"),this.TurnText=this.TurnTextNode.getComponent("cc.RichText"),this.MatchText.string="Match = 0",this.TurnText.string="Turn = 0",this.ScoreText.string="Score = 0",this.ComboText.string="Combo = 0"}updateScore(t){this.ScoreText.string="Score = "+t.score,this.ComboText.string="Combo = "+t.combo,this.MatchText.string="Match = "+t.matchCount,this.TurnText.string="Turn = "+t.turn}update(t){}}).prototype,"ScoreTextNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(l.prototype,"ComboTextNode",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=e(l.prototype,"MatchTextNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=e(l.prototype,"TurnTextNode",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=l))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/ScreenSwitchRequestEvent.ts",["cc"],(function(e){var t,c;return{setters:[function(e){t=e.cclegacy,c=e.Event}],execute:function(){t._RF.push({},"60a50v3x9BCpbmCerU1TsYD","ScreenSwitchRequestEvent",void 0);e("ScreenSwitchEventRequest",class extends c{constructor(e){super(e,!0)}}),t._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,a,s,c,o;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,a=e.SpriteFrame,s=e._decorator,c=e.Component,o=e.resources}],execute:function(){var p,l,n,u,d;i._RF.push({},"0975czHUuhN153xlBVK0000","SpriteHandler",void 0);const{ccclass:S,property:h}=s;e("SpriteHandler",(p=S("SpriteHandler"),l=h({type:a,tooltip:"Sprite for the back of the card"}),p((d=r((u=class extends c{constructor(...e){super(...e),t(this,"BackSprite",d,this)}getFileName(e){let r=e[0],t=e[1];switch("T"==r&&(r="10"),t){case"H":t="Hearts";break;case"S":t="Spades";break;case"D":t="Diamonds";break;case"C":t="Clubs"}return"card"+t+r}setSprites(e){let r=e.CardType;o.load(this.getFileName(r)+"/spriteFrame",a,((r,t)=>{r?console.error("Error loading sprite:",r):e.setSprite(t,this.BackSprite)}))}}).prototype,"BackSprite",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),n=u))||n));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});